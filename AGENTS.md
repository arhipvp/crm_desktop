üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤ —Ç–æ–º —á–∏—Å–ª–µ –¥–ª—è PyQt / PySide):

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
sudo apt-get update
sudo apt-get install -y libegl1 libgl1
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
pip install -r requirements.txt
üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã —Å —è–≤–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–≤–∏—Å–∞–Ω–∏—è:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
PYTEST_TIMEOUT=120 pytest -vv
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
pytest -k test_–∏–º—è
‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å telegram_bot) –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å, –µ—Å–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è await reply_html(...), await reply_text(...) –∏–ª–∏ –¥—Ä—É–≥–∏–µ await-–≤—ã–∑–æ–≤—ã. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ Codex-–∞–≥–µ–Ω—Ç–∞.

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pytest-timeout:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
pip install pytest-timeout
pytest --timeout=30
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ subprocess.run() –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∞–π–º–∞—É—Ç:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
subprocess.run(["pytest", "-vv"], timeout=30, check=True)
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ reply_html, reply_text –∏ –¥—Ä—É–≥–∏–µ async-–º–µ—Ç–æ–¥—ã –∑–∞–º–æ–∫–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã —Å chat_id –∏ message_id.

–î–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory SQLite —Å —Ñ–∏–∫—Å—Ç—É—Ä–æ–π test_db –∏–∑ conftest.py. –û—Ç–¥–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ CRM Desktop –Ω–∞ FastAPI + SQLAlchemy

–ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞** ‚Äì –∏–∑—É—á–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `database/`, `services/`, `ui/`, `telegram_bot/`, `tests/` –∏ –≤—ã—è–≤–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –±–∏–∑–Ω–µ—Å‚Äë–ø—Ä–æ—Ü–µ—Å—Å—ã.
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ FastAPI** ‚Äì —Å–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ä–∫–∞—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`app/`, `app/main.py`, `app/api/...`) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
3. **–ú–∏–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π** ‚Äì –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ Peewee‚Äë–º–æ–¥–µ–ª–∏ –≤ SQLAlchemy –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `SQLALCHEMY_DATABASE_URL`.
4. **–ë–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞** ‚Äì –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑ `services/` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLAlchemy.
5. **API‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** ‚Äì —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ CRUD‚Äë–º–∞—Ä—à—Ä—É—Ç—ã, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä—ã.
6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram‚Äë–±–æ—Ç–æ–º –∏ Google Drive** ‚Äì –æ–±–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏, –æ–±–µ—Å–ø–µ—á–∏–≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å FastAPI.
7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏** ‚Äì –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Alembic –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ç–µ—Å—Ç—ã.
8. **–ü–ª–∞–≤–Ω—ã–π –æ—Ç–∫–∞–∑ –æ—Ç –¥–µ—Å–∫—Ç–æ–ø‚Äë—á–∞—Å—Ç–∏** ‚Äì –∑–∞–ø—É—Å–∫–∞–π—Ç–µ API –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å GUI –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
9. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π** ‚Äì –æ–±–Ω–æ–≤–∏—Ç–µ README, –¥–æ–±–∞–≤—å—Ç–µ Docker‚Äë—Ñ–∞–π–ª—ã –∏ –ø—Ä–∏–º–µ—Ä `.env`.

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –¥–µ—Å–∫—Ç–æ–ø —Å—Ä–∞–∑—É –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è; –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤.
